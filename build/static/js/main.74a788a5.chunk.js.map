{"version":3,"sources":["todoInput.js","TodoItem.js","leanCloud.js","UserDialog.js","App.js","index.js"],"names":["TodoInput","react_default","a","createElement","type","placeholder","value","this","props","content","onKeyPress","submit","bind","onChange","changeTitle","e","key","onSubmit","React","Component","TodoItem","className","id","todo","checked","status","toggle","htmlFor","title","onClick","delete","onToggle","onDelete","AV","init","appId","appKey","getUserFromAVUser","AVUser","Object","objectSpread","attributes","getCurrentUser","user","User","current","UserDialog","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","selected","dataForm","username","password","setState","target","_this2","preventDefault","_this$state$dataForm","successFn","errorFn","setUsername","setPassword","signUp","then","loggedInUser","error","onSignUp","alert","_this3","_this$state$dataForm2","logIn","signIn","onSignIn","stateCopy","JSON","parse","stringify","signUpForm","changeFormData","signInForm","switch","App","newTodo","todoList","todos","filter","item","deleted","map","index","TodoItem_TodoItem","logOut","todoInput_TodoInput","addTodo","UserDialog_UserDialog","event","push","idMaker","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.74a788a5.chunk.js","sourcesContent":["import React from 'react';\nimport './todoInput.css';\n\nexport default class TodoInput extends React.Component {\n    render (){\n        return <input type='text' placeholder=\"Type your plan here!\" value={this.props.content} onKeyPress={this.submit.bind(this)} onChange={this.changeTitle.bind(this)}/>\n    }\n    submit (e){\n        if(e.key==='Enter') {  \n            this.props.onSubmit(e)\n        }     \n    }\n    changeTitle(e){\n        this.props.onChange(e)\n    }\n}","import React from 'react';\nimport './TodoItem.css';\n\n\nexport default class TodoItem extends React.Component {\n    render () {\n        return (\n            <div className='itemList'>\n                <input type=\"checkbox\" id={this.props.todo.id} checked={this.props.todo.status==='completed'} onChange={this.toggle.bind(this)}/>\n                <label htmlFor={this.props.todo.id}></label>\n                {this.props.todo.title}\n                <button onClick={this.delete.bind(this)}><i className='iconfont icon-delete-copy'></i></button>\n            </div>\n            )\n\n    }\n\n    toggle(e){  \n        this.props.onToggle(this.props.todo,e)\n    }\n    delete(e){\n        this.props.onDelete(this.props.todo,e)\n    }\n}\n\n","import AV from 'leancloud-storage';\n\nvar APP_ID = 'BwlLHpUypqlQQTDTQarqgORI-gzGzoHsz';\nvar APP_KEY = '0EekaQvmuWuXdWhzo51gfRQR';\nAV.init({\n  appId: APP_ID,\n  appKey: APP_KEY\n})\n\nexport default AV;\n\n\nexport function signUp(username,password,successFn,errorFn) {\n    var user = new AV.User()\n    // 设置用户名\n    user.setUsername(username)\n    // 设置密码\n    user.setPassword(password)\n    user.signUp().then(function (loggedInUser) {\n        let user = getUserFromAVUser(loggedInUser)\n        successFn.call(null,user)\n        // Console.log(user)\n    }, function (error) {\n        errorFn.call(null,error)\n        // console.log(error)\n    });\n}\n\nfunction getUserFromAVUser(AVUser){\n    return {\n        id: AVUser.id,\n        ...AVUser.attributes\n    }\n}\n\nexport function getCurrentUser(){\n    let user = AV.User.current()\n    if(user){\n        return getUserFromAVUser(user)\n      }else{\n        return null\n      }\n}\nexport function logOut(){\n    AV.User.logOut()\n    return undefined\n}\n\nexport function signIn(username,password,successFn,errorFn){\n    AV.User.logIn(username, password).then(function (loggedInUser) {\n        let user = getUserFromAVUser(loggedInUser)\n        successFn.call(null,user)\n        // console.log(loggedInUser);\n      }, function (error) {\n          errorFn.call(null,error)\n      }) \n}\n","\nimport React from 'react';\nimport './UserDialog.css';\nimport {signUp,signIn} from './leanCloud.js';\n\nexport default class UserDialog extends React.Component {\n    constructor(props){\n        super(props);\n        this.state={\n            selected: 'signUp',\n            dataForm: {\n                username: '',\n                password: ''\n            }\n        }\n    }\n\n    switch(e){\n        this.setState(\n            {selected: e.target.value}\n        )\n    }\n    signUp(e){\n        e.preventDefault()\n        let {username,password}=this.state.dataForm;\n        let success = (user)=> {\n            this.props.onSignUp.call(null,user)\n            // console.log(user)\n        }\n        let error = (error)=> {\n            alert(error)\n        }\n        signUp(username,password,success,error)\n    }\n    signIn(e){\n        e.preventDefault()\n        let {username,password}=this.state.dataForm;\n        let success = (user)=> {\n            this.props.onSignIn.call(null,user)\n            // console.log(user)\n        }\n        let error = (error)=> {\n            alert(error)\n        }\n        signIn(username,password,success,error)\n\n    }\n\n    // key -> bind(this,key)\n    changeFormData(key,e){\n        let stateCopy = JSON.parse(JSON.stringify(this.state))\n        stateCopy.dataForm[key]=e.target.value\n        this.setState(stateCopy)\n\n    }\n\n    render(){\n        let signUpForm =(\n            <form className='signUp' onSubmit={this.signUp.bind(this)}>\n                <div className='row'>\n                    <label>Email</label>\n                    <input type='text'/>\n                </div>\n                <div className='row'>\n                    <label>Username</label>\n                    <input type='text' value={this.state.dataForm.username} onChange={this.changeFormData.bind(this,'username')}/>\n                </div>\n                <div className='row'>\n                    <label>Password</label>\n                    <input type='password' value={this.state.dataForm.password} onChange={this.changeFormData.bind(this,'password')}/>\n                </div>\n                <div className='row action'>\n                    <button>SIGNUP</button>\n                </div>\n            </form>\n        )\n        let signInForm = (\n            <form className='signIn' onSubmit={this.signIn.bind(this)}>\n                <div className='row'>\n                    <label>Username</label>\n                    <input type='text' value={this.state.dataForm.username} onChange={this.changeFormData.bind(this,'username')}/>\n                </div>\n                <div className='row'>\n                    <label>Password</label>\n                    <input type='password' value={this.state.dataForm.password} onChange={this.changeFormData.bind(this,'password')}/>\n                </div>\n                <div className='row action'>\n                    <button>SIGNIN</button>\n                </div>\n            </form>\n        )\n\n        return (\n            <div className='UserDialog-Wrapper'>\n                <div className='userDialog'>\n                    <nav>\n                        <label><input type='radio' value='signUp' checked={this.state.selected==='signUp'} onChange={this.switch.bind(this)}/>SIGN UP</label>\n                        <label><input type='radio' value='signIn' checked={this.state.selected==='signIn'} onChange={this.switch.bind(this)}/>SIGN IN</label>                  \n                    </nav>\n                    <div className='panel'>\n                       {this.state.selected==='signUp'? signUpForm : signInForm}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport TodoInput from './todoInput.js';\nimport 'normalize.css';\nimport 'reset.css';\nimport './App.css';\nimport TodoItem from './TodoItem.js';\nimport UserDialog from './UserDialog.js';\nimport {getCurrentUser,logOut} from './leanCloud';\n\nclass App extends React.Component {\n    constructor (props){\n        super(props);\n        this.state = {\n          user: getCurrentUser(),\n          newTodo: '',\n          todoList:[]\n        } \n      }\n\n    render (){\n        let todos = this.state.todoList.filter((item)=>!item.deleted).map((item, index) => {\n        return (\n            <li key={index}>\n              <TodoItem todo={item} onToggle={this.toggle.bind(this)} onDelete={this.delete.bind(this)}/>\n            </li>\n          )\n        })\n\n\n        return (\n            <div className='App'>\n                <header>TO DO LIST\n                  {this.state.user.id? <button onClick={this.logOut.bind(this)}>Log out</button> : null}\n                </header>\n                <div className='dashBoard'>  \n                  <p>Hey,{this.state.user.id?this.state.user.username:'friend'} Welcome to list!</p>\n                  <i></i>\n                </div>\n                <div className='inputWrapper' >\n                    <TodoInput content={this.state.newTodo} onSubmit={this.addTodo.bind(this)} onChange={this.changeTitle.bind(this)}/>\n                </div>\n                <ol className='todoList'>\n                    {todos}\n                </ol>\n                {this.state.user.id ? \n                  null:\n                  <UserDialog onSignUp={this.onSignUp.bind(this)} onSignIn={this.onSignIn.bind(this)}/>\n                  }\n            </div>\n\n        )\n    }\n    componentDidUpdate(){\n    }\n    logOut(){\n      logOut()\n      let stateCopy = JSON.parse(JSON.stringify(this.state))\n      stateCopy.user = {}\n      this.setState(stateCopy)\n    }\n    onSignUp(user){\n      let stateCopy = JSON.parse(JSON.stringify(this.state))\n      stateCopy.user = user\n      this.setState(stateCopy)\n    }\n\n    onSignIn(user){\n      let stateCopy = JSON.parse(JSON.stringify(this.state))\n      stateCopy.user = user\n      this.setState(stateCopy)\n    }\n\n    addTodo(event) {\n      this.state.todoList.push({\n        id: idMaker(),\n        title: event.target.value,\n        status: null,\n        deleted: false\n      })\n      this.setState({\n        newTodo: '',\n        todoList: this.state.todoList\n      })\n    }\n\n    changeTitle(event){\n      this.setState({\n        newTodo: event.target.value,\n        todoList: this.state.todoList\n      })\n\n    }\n\n    toggle(todo,e){\n      todo.status=todo.status==='completed'? '':'completed'\n      this.setState(this.state)\n    }\n\n    delete(todo,e){\n      todo.deleted='true'\n      this.setState(this.state)\n    }\n}\n\nlet id = 0\nfunction idMaker(){\n  id+=1\n  return id\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)\n\n// serviceWorker.unregister();\n"],"sourceRoot":""}